<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Liquibase â€” Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
            background: #fff;
        }
        
        h1 {
            color: #2962ff;
            text-align: center;
            font-size: 2.2em;
            margin-bottom: 10px;
            border-bottom: 3px solid #2962ff;
            padding-bottom: 15px;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 40px;
            font-size: 1.1em;
        }
        
        h2 {
            color: #1e4db7;
            margin-top: 35px;
            margin-bottom: 15px;
            font-size: 1.5em;
            border-left: 4px solid #2962ff;
            padding-left: 15px;
        }
        
        h3 {
            color: #444;
            margin-top: 25px;
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        
        .diagram-box {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
        }
        
        pre {
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 13px;
            line-height: 1.4;
            white-space: pre;
            margin: 0;
        }
        
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
        }
        
        .code-block pre {
            color: #f8f8f2;
        }
        
        .code-title {
            background: #1a1a1a;
            color: #2962ff;
            padding: 8px 15px;
            border-radius: 6px 6px 0 0;
            font-family: 'Consolas', monospace;
            font-size: 12px;
            margin-bottom: -15px;
        }
        
        .code-block.with-title {
            border-radius: 0 0 6px 6px;
        }
        
        .explanation {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 0 6px 6px 0;
        }
        
        .warning {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 0 6px 6px 0;
        }
        
        .success {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 0 6px 6px 0;
        }
        
        .danger {
            background: #ffebee;
            border-left: 4px solid #f44336;
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 0 6px 6px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background: #2962ff;
            color: white;
        }
        
        tr:nth-child(even) {
            background: #f9f9f9;
        }
        
        .step-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: #2962ff;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .step {
            margin: 20px 0;
            padding: 15px;
            background: #fafafa;
            border-radius: 8px;
        }
        
        .analogy-box {
            background: linear-gradient(135deg, #2962ff 0%, #1e4db7 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin: 25px 0;
        }
        
        .analogy-box h3 {
            color: white;
            margin-top: 0;
        }
        
        .summary-box {
            background: #e3f2fd;
            border: 2px solid #2962ff;
            padding: 20px;
            border-radius: 10px;
            margin: 30px 0;
        }
        
        .summary-box h3 {
            color: #1e4db7;
            margin-top: 0;
        }
        
        ol, ul {
            margin-left: 25px;
            margin-bottom: 15px;
        }
        
        li {
            margin: 8px 0;
        }
        
        .page-break {
            page-break-before: always;
        }
        
        .timeline {
            position: relative;
            padding-left: 30px;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 0;
            bottom: 0;
            width: 3px;
            background: #2962ff;
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 3px solid #2962ff;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -26px;
            top: 20px;
            width: 12px;
            height: 12px;
            background: #2962ff;
            border-radius: 50%;
        }
        
        @media print {
            body {
                padding: 20px;
            }
            .diagram-box, .code-block {
                break-inside: avoid;
            }
        }
    </style>
</head>
<body>

<h1>ğŸ”„ ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ Liquibase</h1>
<p class="subtitle">Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ´Ğ»Ñ Android Bootcamp 2025</p>

<h2>1. Ğ—Ğ°Ñ‡ĞµĞ¼ Ğ½ÑƒĞ¶Ğ½Ñ‹ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸?</h2>

<div class="explanation">
    <strong>ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:</strong> Ğ¡Ñ…ĞµĞ¼Ğ° Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¼ĞµĞ½ÑĞµÑ‚ÑÑ ÑĞ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½ĞµĞ¼. ĞĞ¾Ğ²Ñ‹Ğµ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹, ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ¸, Ğ¸Ğ½Ğ´ĞµĞºÑÑ‹...
    ĞšĞ°Ğº ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑÑ‚Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ¼ĞµĞ¶Ğ´Ñƒ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ°Ğ¼Ğ¸, Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğ¼ Ğ¸ prod-Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸ĞµĞ¼?
</div>

<div class="diagram-box">
<pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° Ğ±ĞµĞ· Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº A                Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº B                Production
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   
   Ğ‘Ğ” Ğ²ĞµÑ€ÑĞ¸Ñ 3                  Ğ‘Ğ” Ğ²ĞµÑ€ÑĞ¸Ñ 2                  Ğ‘Ğ” Ğ²ĞµÑ€ÑĞ¸Ñ 1
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ users       â”‚              â”‚ users       â”‚              â”‚ users       â”‚
   â”‚ products    â”‚              â”‚ products    â”‚              â”‚             â”‚
   â”‚ orders â¬… NEWâ”‚              â”‚             â”‚              â”‚             â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   
   âŒ "Ğ£ Ğ¼ĞµĞ½Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚, Ğ° Ñƒ Ñ‚ĞµĞ±Ñ Ğ½ĞµÑ‚!"
   âŒ Ğ ÑƒÑ‡Ğ½Ğ¾Ğ¹ SQL Ğ¿Ñ€Ğ¸ Ğ´ĞµĞ¿Ğ»Ğ¾Ğµ
   âŒ Ğ—Ğ°Ğ±Ñ‹Ğ»Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºÑƒ Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ´Ğµ
   âŒ ĞĞµÑ‚ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ: ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Liquibase                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   Git Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚:
   
   src/main/resources/db.changelog/
   â”œâ”€â”€ db.changelog-master.xml        â—€â”€â”€ Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ»
   â”œâ”€â”€ 1.0/
   â”‚   â”œâ”€â”€ 001-create-users.xml       â—€â”€â”€ Ğ’ĞµÑ€ÑĞ¸Ñ 1
   â”‚   â”œâ”€â”€ 002-create-products.xml    â—€â”€â”€ Ğ’ĞµÑ€ÑĞ¸Ñ 2
   â”‚   â””â”€â”€ 003-create-orders.xml      â—€â”€â”€ Ğ’ĞµÑ€ÑĞ¸Ñ 3
   â””â”€â”€ data/
       â””â”€â”€ 001-insert-users.xml       â—€â”€â”€ ĞĞ°Ñ‡Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
   
   âœ… Ğ’ÑĞµ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¸ Ğ²Ğ¸Ğ´ÑÑ‚ Ğ¾Ğ´Ğ½Ñƒ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ
   âœ… ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ÑÑÑ‚ÑÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞºĞµ
   âœ… ĞĞµĞ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ "Ğ·Ğ°Ğ±Ñ‹Ñ‚ÑŒ" Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ
   âœ… ĞÑ‚ĞºĞ°Ñ‚ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ (rollback)
</pre>
</div>

<div class="analogy-box">
    <h3>ğŸ“š ĞĞ½Ğ°Ğ»Ğ¾Ğ³Ğ¸Ñ: Git Ğ´Ğ»Ñ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…</h3>
    <div class="diagram-box" style="background: rgba(255,255,255,0.95); color: #333;">
<pre>
         GIT (ĞºĞ¾Ğ´)                          LIQUIBASE (Ğ‘Ğ”)
         â”€â”€â”€â”€â”€â”€â”€â”€â”€                          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         
    ĞšĞ¾Ğ¼Ğ¼Ğ¸Ñ‚ = ÑĞ½Ğ¸Ğ¼Ğ¾Ğº ĞºĞ¾Ğ´Ğ°              ChangeSet = Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ ÑÑ…ĞµĞ¼Ñ‹
    
    commit abc123                      changeSet id="001"
    commit def456                      changeSet id="002"
    commit ghi789                      changeSet id="003"
         â”‚                                  â”‚
         â–¼                                  â–¼
    Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹                 Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹
    (git log)                         (DATABASECHANGELOG)
</pre>
    </div>
    <p style="margin-top: 15px;">ĞšĞ°Ğº Git Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ² ĞºĞ¾Ğ´Ğµ, Ñ‚Ğ°Ğº Liquibase Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ² Ğ‘Ğ”!</p>
</div>

<h2>2. ĞšĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Liquibase</h2>

<div class="diagram-box">
<pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ĞŸÑ€Ğ¾Ñ†ĞµÑÑ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
         â”‚
         â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                           LIQUIBASE                                      â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
   â”‚  â”‚  1. Ğ§Ğ¸Ñ‚Ğ°ĞµÑ‚ db.changelog-master.xml                                â”‚  â”‚
   â”‚  â”‚                                                                   â”‚  â”‚
   â”‚  â”‚  2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ DATABASECHANGELOG                          â”‚  â”‚
   â”‚  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
   â”‚  â”‚     â”‚ ID                    â”‚ AUTHOR      â”‚ DATEEXECUTED       â”‚ â”‚  â”‚
   â”‚  â”‚     â”‚ 001-create-users      â”‚ developer   â”‚ 2025-01-15 10:00   â”‚ â”‚  â”‚
   â”‚  â”‚     â”‚ 002-create-products   â”‚ developer   â”‚ 2025-01-20 14:30   â”‚ â”‚  â”‚
   â”‚  â”‚     â”‚ ??? Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸    â”‚             â”‚                    â”‚ â”‚  â”‚
   â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
   â”‚  â”‚                                                                   â”‚  â”‚
   â”‚  â”‚  3. ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ÑĞµÑ‚ Ğ¢ĞĞ›Ğ¬ĞšĞ Ğ½Ğ¾Ğ²Ñ‹Ğµ changeSets                            â”‚  â”‚
   â”‚  â”‚                                                                   â”‚  â”‚
   â”‚  â”‚  4. Ğ—Ğ°Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ½Ñ‹Ğµ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ² DATABASECHANGELOG          â”‚  â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
   ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½Ğ¾ Ñ Ğ°ĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ ÑÑ…ĞµĞ¼Ğ¾Ğ¹ Ğ‘Ğ”
</pre>
</div>

<div class="success">
    <strong>ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğ¹ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿:</strong> ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ changeSet Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ÑÑ <strong>Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¾Ğ´Ğ¸Ğ½ Ñ€Ğ°Ğ·</strong>.
    Liquibase Ğ¿Ğ¾Ğ¼Ğ½Ğ¸Ñ‚, ĞºĞ°ĞºĞ¸Ğµ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ ÑƒĞ¶Ğµ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ñ‹, Ğ¸ Ğ½Ğµ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ÑĞµÑ‚ Ğ¸Ñ….
</div>

<h2>3. Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°</h2>

<div class="diagram-box">
<pre>
src/main/resources/
â””â”€â”€ db.changelog/
    â”œâ”€â”€ db.changelog-master.xml     â—€â”€â”€ Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ» (Ğ²ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ Ğ²ÑĞµ Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ)
    â”‚
    â”œâ”€â”€ 1.0/                        â—€â”€â”€ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° (DDL)
    â”‚   â”œâ”€â”€ 2025-01-29--0001-department.xml
    â”‚   â”œâ”€â”€ 2025-01-29--0002-person.xml
    â”‚   â”œâ”€â”€ 2025-02-02--0003-authority.xml
    â”‚   â””â”€â”€ 2025-02-02--0004-person-authorities.xml
    â”‚
    â””â”€â”€ data/                       â—€â”€â”€ Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ (DML)
        â”œâ”€â”€ 2025-01-29--0001-department-data.xml
        â”œâ”€â”€ 2025-01-29--0002-person-data.xml
        â”œâ”€â”€ 2025-02-02--0003-authority-data.xml
        â”œâ”€â”€ 2025-02-02--0004-person-authorities-data.xml
        â””â”€â”€ csv/
            â”œâ”€â”€ 2025-01-29--0001-department-data.csv
            â””â”€â”€ 2025-01-29--0002-person-data.csv
</pre>
</div>

<h3>ĞšĞ¾Ğ½Ğ²ĞµĞ½Ñ†Ğ¸Ñ Ğ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ</h3>

<div class="code-block">
<pre>YYYY-MM-DD--NNNN-Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ.xml

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹:
2025-01-29--0001-department.xml
2025-01-29--0002-person.xml
2025-02-02--0003-authority.xml</pre>
</div>

<table>
    <tr>
        <th>Ğ§Ğ°ÑÑ‚ÑŒ</th>
        <th>Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ</th>
        <th>Ğ—Ğ°Ñ‡ĞµĞ¼</th>
    </tr>
    <tr>
        <td><code>YYYY-MM-DD</code></td>
        <td>Ğ”Ğ°Ñ‚Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ</td>
        <td>Ğ¥Ñ€Ğ¾Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿Ğ¾Ñ€ÑĞ´Ğ¾Ğº</td>
    </tr>
    <tr>
        <td><code>NNNN</code></td>
        <td>ĞŸĞ¾Ñ€ÑĞ´ĞºĞ¾Ğ²Ñ‹Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€</td>
        <td>ĞŸĞ¾Ñ€ÑĞ´Ğ¾Ğº Ğ² Ñ€Ğ°Ğ¼ĞºĞ°Ñ… Ğ´Ğ½Ñ</td>
    </tr>
    <tr>
        <td><code>Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ</code></td>
        <td>Ğ§Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°ĞµÑ‚ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ</td>
        <td>ĞŸĞ¾Ğ½ÑÑ‚Ğ½Ğ¾ÑÑ‚ÑŒ</td>
    </tr>
</table>

<div class="page-break"></div>

<h2>4. ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹</h2>

<h3>4.1 Master changelog â€” Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°</h3>

<div class="code-title">db.changelog-master.xml</div>
<div class="code-block with-title">
<pre>&lt;databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog 
                   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd"&gt;

    &lt;!-- Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ† (Ğ² Ğ¿Ğ¾Ñ€ÑĞ´ĞºĞµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹!) --&gt;
    &lt;include file="db.changelog/1.0/2025-01-29--0001-department.xml"/&gt;
    &lt;include file="db.changelog/1.0/2025-01-29--0002-person.xml"/&gt;
    &lt;include file="db.changelog/1.0/2025-02-02--0003-authority.xml"/&gt;
    &lt;include file="db.changelog/1.0/2025-02-02--0004-person-authorities.xml"/&gt;

    &lt;!-- ĞĞ°Ñ‡Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ --&gt;
    &lt;include file="db.changelog/data/2025-01-29--0001-department-data.xml"/&gt;
    &lt;include file="db.changelog/data/2025-01-29--0002-person-data.xml"/&gt;
    &lt;include file="db.changelog/data/2025-02-02--0003-authority-data.xml"/&gt;
    &lt;include file="db.changelog/data/2025-02-02--0004-person-authorities-data.xml"/&gt;

&lt;/databaseChangeLog&gt;</pre>
</div>

<div class="warning">
    <strong>âš ï¸ ĞŸĞ¾Ñ€ÑĞ´Ğ¾Ğº Ğ²Ğ°Ğ¶ĞµĞ½!</strong> Ğ•ÑĞ»Ğ¸ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° <code>person</code> ÑÑÑ‹Ğ»Ğ°ĞµÑ‚ÑÑ Ğ½Ğ° <code>department</code>,
    Ñ‚Ğ¾ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ <code>department</code> Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ¸Ğ´Ñ‚Ğ¸ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¹.
</div>

<h3>4.2 Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ (DDL)</h3>

<div class="code-title">2025-01-29--0001-department.xml</div>
<div class="code-block with-title">
<pre>&lt;databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="..."&gt;

    &lt;changeSet id="2025-01-29--0001-department" author="anepretimov"&gt;
        
        &lt;!-- ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ°: Ğ½Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ñ‚ÑŒ, ĞµÑĞ»Ğ¸ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° ÑƒĞ¶Ğµ ĞµÑÑ‚ÑŒ --&gt;
        &lt;preConditions onFail="MARK_RAN"&gt;
            &lt;not&gt;
                &lt;tableExists tableName="department"/&gt;
            &lt;/not&gt;
        &lt;/preConditions&gt;

        &lt;createTable tableName="department"&gt;
            &lt;column name="id" type="BIGINT" autoIncrement="true"&gt;
                &lt;constraints primaryKey="true" nullable="false"/&gt;
            &lt;/column&gt;
            &lt;column name="name" type="VARCHAR(100)"&gt;
                &lt;constraints nullable="false" unique="true"/&gt;
            &lt;/column&gt;
        &lt;/createTable&gt;
        
    &lt;/changeSet&gt;
&lt;/databaseChangeLog&gt;</pre>
</div>

<h3>4.3 Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° ÑĞ¾ ÑĞ²ÑĞ·ÑĞ¼Ğ¸ (Foreign Key)</h3>

<div class="code-title">2025-01-29--0002-person.xml</div>
<div class="code-block with-title">
<pre>&lt;changeSet id="2025-01-29--0002-person" author="anepretimov"&gt;
    &lt;createTable tableName="person"&gt;
        &lt;column name="id" type="BIGINT" autoIncrement="true"&gt;
            &lt;constraints primaryKey="true" nullable="false"/&gt;
        &lt;/column&gt;
        &lt;column name="name" type="VARCHAR(100)"&gt;
            &lt;constraints nullable="false"/&gt;
        &lt;/column&gt;
        &lt;column name="username" type="VARCHAR(50)"&gt;
            &lt;constraints nullable="false" unique="true"/&gt;
        &lt;/column&gt;
        &lt;column name="email" type="VARCHAR(100)"/&gt;
        &lt;column name="password" type="VARCHAR(255)"&gt;
            &lt;constraints nullable="false"/&gt;
        &lt;/column&gt;
        &lt;column name="photo_url" type="VARCHAR(255)"/&gt;
        
        &lt;!-- Ğ’Ğ½ĞµÑˆĞ½Ğ¸Ğ¹ ĞºĞ»ÑÑ‡ Ğ½Ğ° department --&gt;
        &lt;column name="department_id" type="BIGINT"&gt;
            &lt;constraints nullable="false"/&gt;
        &lt;/column&gt;
    &lt;/createTable&gt;

    &lt;!-- Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Foreign Key --&gt;
    &lt;addForeignKeyConstraint 
        baseTableName="person" 
        baseColumnNames="department_id"
        referencedTableName="department" 
        referencedColumnNames="id"
        constraintName="fk_person_department"/&gt;
&lt;/changeSet&gt;</pre>
</div>

<h3>4.4 Ğ¡Ğ²ÑĞ·ÑŒ Many-to-Many</h3>

<div class="code-title">2025-02-02--0004-person-authorities.xml</div>
<div class="code-block with-title">
<pre>&lt;changeSet id="2025-02-02--0004-person-authorities" author="anepretimov"&gt;
    
    &lt;!-- Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° ÑĞ²ÑĞ·Ğ¸ Ğ´Ğ»Ñ Many-to-Many --&gt;
    &lt;createTable tableName="person_authorities"&gt;
        &lt;column name="person_id" type="BIGINT"&gt;
            &lt;constraints nullable="false"/&gt;
        &lt;/column&gt;
        &lt;column name="authorities_id" type="BIGINT"&gt;
            &lt;constraints nullable="false"/&gt;
        &lt;/column&gt;
    &lt;/createTable&gt;

    &lt;!-- Ğ¡Ğ¾ÑÑ‚Ğ°Ğ²Ğ½Ğ¾Ğ¹ Ğ¿ĞµÑ€Ğ²Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ ĞºĞ»ÑÑ‡ --&gt;
    &lt;addPrimaryKey 
        tableName="person_authorities" 
        columnNames="person_id, authorities_id"/&gt;

    &lt;!-- Ğ’Ğ½ĞµÑˆĞ½Ğ¸Ğµ ĞºĞ»ÑÑ‡Ğ¸ --&gt;
    &lt;addForeignKeyConstraint 
        baseTableName="person_authorities" 
        baseColumnNames="person_id"
        referencedTableName="person" 
        referencedColumnNames="id"
        constraintName="fk_pa_person"/&gt;

    &lt;addForeignKeyConstraint 
        baseTableName="person_authorities" 
        baseColumnNames="authorities_id"
        referencedTableName="authority" 
        referencedColumnNames="id"
        constraintName="fk_pa_authority"/&gt;
        
&lt;/changeSet&gt;</pre>
</div>

<div class="page-break"></div>

<h3>4.5 Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸Ğ· CSV</h3>

<div class="code-title">2025-01-29--0001-department-data.xml</div>
<div class="code-block with-title">
<pre>&lt;databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" ...&gt;

    &lt;changeSet id="2025-01-29--0001-department-data" author="anepretimov"&gt;
        &lt;loadData 
            tableName="department" 
            file="db.changelog/data/csv/2025-01-29--0001-department-data.csv"
            separator=";"
            quotchar='"'
            encoding="UTF-8"/&gt;
    &lt;/changeSet&gt;

&lt;/databaseChangeLog&gt;</pre>
</div>

<div class="code-title">2025-01-29--0001-department-data.csv</div>
<div class="code-block with-title">
<pre>id;name
1;Engineering
2;Marketing
3;Sales
4;HR</pre>
</div>

<div class="success">
    <strong>ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ¾ CSV:</strong> Ğ›ĞµĞ³ĞºĞ¾ Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Excel/Google Sheets.
    Ğ£Ğ´Ğ¾Ğ±Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ñ… Ğ¾Ğ±ÑŠÑ‘Ğ¼Ğ¾Ğ² Ğ½Ğ°Ñ‡Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ….
</div>

<h2>5. ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ‚ĞµĞ³Ğ¸ Liquibase</h2>

<table>
    <tr>
        <th>Ğ¢ĞµĞ³</th>
        <th>ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ</th>
        <th>ĞŸÑ€Ğ¸Ğ¼ĞµÑ€</th>
    </tr>
    <tr>
        <td><code>&lt;createTable&gt;</code></td>
        <td>Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ</td>
        <td>CREATE TABLE</td>
    </tr>
    <tr>
        <td><code>&lt;addColumn&gt;</code></td>
        <td>Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºÑƒ</td>
        <td>ALTER TABLE ADD COLUMN</td>
    </tr>
    <tr>
        <td><code>&lt;dropColumn&gt;</code></td>
        <td>Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºÑƒ</td>
        <td>ALTER TABLE DROP COLUMN</td>
    </tr>
    <tr>
        <td><code>&lt;renameColumn&gt;</code></td>
        <td>ĞŸĞµÑ€ĞµĞ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºÑƒ</td>
        <td>ALTER TABLE RENAME COLUMN</td>
    </tr>
    <tr>
        <td><code>&lt;modifyDataType&gt;</code></td>
        <td>Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ñ‚Ğ¸Ğ¿</td>
        <td>ALTER TABLE ALTER COLUMN</td>
    </tr>
    <tr>
        <td><code>&lt;addForeignKeyConstraint&gt;</code></td>
        <td>Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ FK</td>
        <td>ALTER TABLE ADD CONSTRAINT</td>
    </tr>
    <tr>
        <td><code>&lt;createIndex&gt;</code></td>
        <td>Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¸Ğ½Ğ´ĞµĞºÑ</td>
        <td>CREATE INDEX</td>
    </tr>
    <tr>
        <td><code>&lt;loadData&gt;</code></td>
        <td>Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸Ğ· CSV</td>
        <td>INSERT INTO (Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²Ğ¾)</td>
    </tr>
    <tr>
        <td><code>&lt;insert&gt;</code></td>
        <td>Ğ’ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¾Ğ´Ğ½Ñƒ Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ</td>
        <td>INSERT INTO</td>
    </tr>
    <tr>
        <td><code>&lt;sql&gt;</code></td>
        <td>ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ»ÑŒĞ½Ñ‹Ğ¹ SQL</td>
        <td>Ğ›ÑĞ±Ğ¾Ğ¹ SQL Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ</td>
    </tr>
</table>

<h2>6. ĞÑ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ñ‹ changeSet</h2>

<div class="code-block">
<pre>&lt;changeSet 
    id="ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹-Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€"      &lt;!-- ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ --&gt;
    author="Ğ¸Ğ¼Ñ-Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ°"                &lt;!-- ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ --&gt;
    runOnChange="true"                 &lt;!-- ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞºĞ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ --&gt;
    runAlways="true"                   &lt;!-- Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°Ñ‚ÑŒ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ñ€Ğ°Ğ· --&gt;
    context="dev,test"                 &lt;!-- Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ĞµĞ¹ --&gt;
    dbms="postgresql"                  &lt;!-- Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ½Ğ¾Ğ¹ Ğ¡Ğ£Ğ‘Ğ” --&gt;
&gt;</pre>
</div>

<table>
    <tr>
        <th>ĞÑ‚Ñ€Ğ¸Ğ±ÑƒÑ‚</th>
        <th>ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ</th>
        <th>ĞšĞ¾Ğ³Ğ´Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ</th>
    </tr>
    <tr>
        <td><code>id</code></td>
        <td>Ğ£Ğ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€</td>
        <td>Ğ’ÑĞµĞ³Ğ´Ğ° (Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾)</td>
    </tr>
    <tr>
        <td><code>author</code></td>
        <td>ĞĞ²Ñ‚Ğ¾Ñ€ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ</td>
        <td>Ğ’ÑĞµĞ³Ğ´Ğ° (Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾)</td>
    </tr>
    <tr>
        <td><code>runOnChange</code></td>
        <td>ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞº Ğ¿Ñ€Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ğ°</td>
        <td>Ğ”Ğ»Ñ views, stored procedures</td>
    </tr>
    <tr>
        <td><code>context</code></td>
        <td>Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑÑ‚ÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ² ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğµ</td>
        <td>Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ dev</td>
    </tr>
    <tr>
        <td><code>dbms</code></td>
        <td>Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ½Ğ¾Ğ¹ Ğ¡Ğ£Ğ‘Ğ”</td>
        <td>Ğ¡Ğ¿ĞµÑ†Ğ¸Ñ„Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ SQL Ğ´Ğ»Ñ PostgreSQL</td>
    </tr>
</table>

<div class="page-break"></div>

<h2>7. Preconditions â€” ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ñ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ</h2>

<div class="explanation">
    <strong>Preconditions</strong> â€” Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ¿ĞµÑ€ĞµĞ´ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸ĞµĞ¼ changeSet.
    ĞŸĞ¾Ğ·Ğ²Ğ¾Ğ»ÑÑÑ‚ Ğ¸Ğ·Ğ±ĞµĞ¶Ğ°Ñ‚ÑŒ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¾Ğ¼ Ğ·Ğ°Ğ¿ÑƒÑĞºĞµ.
</div>

<div class="code-block">
<pre>&lt;changeSet id="add-phone-column" author="developer"&gt;
    &lt;preConditions onFail="MARK_RAN"&gt;
        &lt;not&gt;
            &lt;columnExists tableName="person" columnName="phone"/&gt;
        &lt;/not&gt;
    &lt;/preConditions&gt;
    
    &lt;addColumn tableName="person"&gt;
        &lt;column name="phone" type="VARCHAR(20)"/&gt;
    &lt;/addColumn&gt;
&lt;/changeSet&gt;</pre>
</div>

<table>
    <tr>
        <th>onFail</th>
        <th>ĞŸĞ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ</th>
    </tr>
    <tr>
        <td><code>HALT</code></td>
        <td>ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ (Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ)</td>
    </tr>
    <tr>
        <td><code>MARK_RAN</code></td>
        <td>ĞŸĞ¾Ğ¼ĞµÑ‚Ğ¸Ñ‚ÑŒ ĞºĞ°Ğº Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ½Ñ‹Ğ¹, Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ</td>
    </tr>
    <tr>
        <td><code>CONTINUE</code></td>
        <td>ĞŸÑ€Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ, Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ</td>
    </tr>
    <tr>
        <td><code>WARN</code></td>
        <td>ĞŸÑ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ğµ, Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ</td>
    </tr>
</table>

<h3>ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸</h3>

<div class="code-block">
<pre>&lt;!-- Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚ --&gt;
&lt;tableExists tableName="person"/&gt;

&lt;!-- Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° ĞĞ• ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚ --&gt;
&lt;not&gt;&lt;tableExists tableName="old_table"/&gt;&lt;/not&gt;

&lt;!-- ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚ --&gt;
&lt;columnExists tableName="person" columnName="email"/&gt;

&lt;!-- Ğ˜Ğ½Ğ´ĞµĞºÑ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚ --&gt;
&lt;indexExists indexName="idx_person_email"/&gt;

&lt;!-- ĞšĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ°Ñ Ğ¡Ğ£Ğ‘Ğ” --&gt;
&lt;dbms type="postgresql"/&gt;

&lt;!-- ĞĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ğ¹ (AND) --&gt;
&lt;and&gt;
    &lt;tableExists tableName="person"/&gt;
    &lt;not&gt;&lt;columnExists tableName="person" columnName="phone"/&gt;&lt;/not&gt;
&lt;/and&gt;</pre>
</div>

<h2>8. ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Spring Boot</h2>

<div class="code-title">application.yml</div>
<div class="code-block with-title">
<pre>spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/bootcamp_db
    username: bootcamp
    password: bootcamp123
  
  liquibase:
    enabled: true                                          # Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Liquibase
    change-log: classpath:db.changelog/db.changelog-master.xml  # ĞŸÑƒÑ‚ÑŒ Ğº master
    # contexts: dev,test                                   # ĞĞ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾: ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ñ‹
    # drop-first: true                                     # ĞĞŸĞĞ¡ĞĞ: ÑĞ±Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ Ğ‘Ğ”
  
  jpa:
    hibernate:
      ddl-auto: none    # âš ï¸ Ğ’ĞĞ–ĞĞ: Liquibase ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑÑ…ĞµĞ¼Ğ¾Ğ¹, Ğ½Ğµ Hibernate!</pre>
</div>

<div class="danger">
    <strong>âš ï¸ Ğ’Ğ°Ğ¶Ğ½Ğ¾:</strong> ĞšĞ¾Ğ³Ğ´Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚Ğµ Liquibase, ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ <code>ddl-auto: none</code>!
    Ğ˜Ğ½Ğ°Ñ‡Ğµ Hibernate Ğ¸ Liquibase Ğ±ÑƒĞ´ÑƒÑ‚ ĞºĞ¾Ğ½Ñ„Ğ»Ğ¸ĞºÑ‚Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¸ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğ¸ ÑÑ…ĞµĞ¼Ğ¾Ğ¹.
</div>

<div class="code-title">pom.xml</div>
<div class="code-block with-title">
<pre>&lt;dependency&gt;
    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;
    &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
</div>

<h2>9. Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ Liquibase Ğ² Ğ‘Ğ”</h2>

<div class="diagram-box">
<pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DATABASECHANGELOG                                     â”‚
â”‚                    (Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ½Ñ‹Ñ… Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ID                          â”‚ AUTHOR      â”‚ FILENAME           â”‚ DATEEXEC  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2025-01-29--0001-department â”‚ anepretimov â”‚ 1.0/2025-01-29...  â”‚ 2025-01-29â”‚
â”‚ 2025-01-29--0002-person     â”‚ anepretimov â”‚ 1.0/2025-01-29...  â”‚ 2025-01-29â”‚
â”‚ 2025-02-02--0003-authority  â”‚ anepretimov â”‚ 1.0/2025-02-02...  â”‚ 2025-02-02â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DATABASECHANGELOGLOCK                                 â”‚
â”‚                      (Ğ‘Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğ¸)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ID â”‚ LOCKED â”‚ LOCKGRANTED         â”‚ LOCKEDBY                               â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ false  â”‚ 2025-02-02 10:00:00 â”‚ hostname (192.168.1.100)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre>
</div>

<div class="page-break"></div>

<h2>10. Best Practices</h2>

<div class="success">
    <h3>âœ… Ğ”ĞµĞ»Ğ°Ğ¹Ñ‚Ğµ</h3>
    <ul>
        <li><strong>ĞĞ´Ğ¸Ğ½ changeSet = Ğ¾Ğ´Ğ½Ğ¾ Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ</strong></li>
        <li>Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ¿Ğ¾Ğ½ÑÑ‚Ğ½Ñ‹Ğµ id Ñ Ğ´Ğ°Ñ‚Ğ¾Ğ¹</li>
        <li>Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞ¹Ñ‚Ğµ preConditions Ğ´Ğ»Ñ Ğ¸Ğ´ĞµĞ¼Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸</li>
        <li>Ğ¥Ñ€Ğ°Ğ½Ğ¸Ñ‚Ğµ DDL Ğ¸ DML Ğ² Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… Ğ¿Ğ°Ğ¿ĞºĞ°Ñ…</li>
        <li>Ğ¢ĞµÑÑ‚Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ½Ğ° ĞºĞ¾Ğ¿Ğ¸Ğ¸ prod-Ğ±Ğ°Ğ·Ñ‹</li>
    </ul>
</div>

<div class="danger">
    <h3>âŒ ĞĞµ Ğ´ĞµĞ»Ğ°Ğ¹Ñ‚Ğµ</h3>
    <ul>
        <li><strong>ĞĞ¸ĞºĞ¾Ğ³Ğ´Ğ° Ğ½Ğµ Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ½Ñ‹Ğµ changeSets!</strong></li>
        <li>ĞĞµ ÑƒĞ´Ğ°Ğ»ÑĞ¹Ñ‚Ğµ ÑÑ‚Ğ°Ñ€Ñ‹Ğµ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸</li>
        <li>ĞĞµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ <code>drop-first: true</code> Ğ½Ğ° prod</li>
        <li>ĞĞµ Ğ¿Ğ¾Ğ»Ğ°Ğ³Ğ°Ğ¹Ñ‚ĞµÑÑŒ Ğ½Ğ° Ğ¿Ğ¾Ñ€ÑĞ´Ğ¾Ğº Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ² Ğ¿Ğ°Ğ¿ĞºĞµ</li>
    </ul>
</div>

<div class="warning">
    <strong>Ğ•ÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ½Ñ‹Ğ¹ changeSet:</strong>
    <ol>
        <li>Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ ĞĞĞ’Ğ«Ğ™ changeSet Ñ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸ÑĞ¼Ğ¸</li>
        <li>ĞĞ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€: Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºÑƒ â†’ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ changeSet Ñ <code>&lt;addColumn&gt;</code></li>
        <li>Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºÑƒ â†’ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ changeSet Ñ <code>&lt;dropColumn&gt;</code></li>
    </ol>
</div>

<h2>11. ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ»Ğ°Ğ´ĞºĞ¸</h2>

<div class="code-block">
<pre># ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹
mvn liquibase:status

# Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ
mvn liquibase:update

# ĞÑ‚ĞºĞ°Ñ‚Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ changeSet
mvn liquibase:rollbackCount -Dliquibase.rollbackCount=1

# Ğ¡Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ SQL Ğ±ĞµĞ· Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ
mvn liquibase:updateSQL

# ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ checksum (ĞµÑĞ»Ğ¸ Ñ„Ğ°Ğ¹Ğ» Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ğ»ÑÑ)
mvn liquibase:clearCheckSums</pre>
</div>

<div class="summary-box">
    <h3>ğŸ“‹ Ğ ĞµĞ·ÑĞ¼Ğµ</h3>
    <ol>
        <li><strong>Liquibase</strong> â€” Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ğ²ĞµÑ€ÑĞ¸Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ÑÑ…ĞµĞ¼Ñ‹ Ğ‘Ğ”</li>
        <li><strong>changeSet</strong> â€” ĞµĞ´Ğ¸Ğ½Ğ¸Ñ†Ğ° Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ (Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ÑÑ Ğ¾Ğ´Ğ¸Ğ½ Ñ€Ğ°Ğ·)</li>
        <li><strong>db.changelog-master.xml</strong> â€” Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ», Ğ²ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ Ğ²ÑĞµ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸</li>
        <li><strong>preConditions</strong> â€” ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ñ Ğ´Ğ»Ñ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾Ğ³Ğ¾ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ</li>
        <li><strong>DATABASECHANGELOG</strong> â€” Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ñ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸ĞµĞ¹ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹</li>
        <li><strong>ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ¾:</strong> ĞĞ¸ĞºĞ¾Ğ³Ğ´Ğ° Ğ½Ğµ Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ½Ñ‹Ğµ changeSets!</li>
    </ol>
    
    <h3 style="margin-top: 20px;">ğŸš€ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ğ¾Ğ¹ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸</h3>
    <div class="code-block" style="background: #1a1a1a;">
<pre># 1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Ñ„Ğ°Ğ¹Ğ» Ğ² db.changelog/1.0/
2025-02-10--0005-add-phone-to-person.xml

# 2. Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ include Ğ² db.changelog-master.xml
&lt;include file="db.changelog/1.0/2025-02-10--0005-add-phone-to-person.xml"/&gt;

# 3. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ â€” Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸</pre>
    </div>
</div>

<hr style="margin-top: 40px;">
<p style="text-align: center; color: #666; margin-top: 20px;">
    <em>Android Bootcamp 2025 â€” Backend Development</em>
</p>

</body>
</html>
